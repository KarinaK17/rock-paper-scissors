<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>Please choose your weapon.</div>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <div class="displayResult"></div>
    <script>
      const buttonRock = document.querySelector("#rock");
      const buttonPaper = document.querySelector("#paper");
      const buttonScissors = document.querySelector("#scissors");
      const display = document.querySelector(".displayResult");
      const buttons = document.querySelectorAll("button");

      buttonRock.addEventListener("click", () => playRound("rock"));
      buttonPaper.addEventListener("click", () => playRound("paper"));
      buttonScissors.addEventListener("click", () => playRound("scissors"));

      let myScore = 0;
      let computerScore = 0;
      let end = 0;

      function playRound(playerSelection) {
        let result;
        function getComputerChoice() {
          return choice[Math.floor(Math.random() * choice.length)];
        }
        let choice = ["rock", "paper", "scissors"];
        computerSelection = getComputerChoice();

        console.log(computerSelection);
        console.log(playerSelection);

        if (playerSelection === computerSelection) {
          result = "You tied.";
        } else if (playerSelection == "rock" && computerSelection == "paper") {
          result = "You lose! Paper beats rock.";
        } else if (
          playerSelection == "rock" &&
          computerSelection == "scissors"
        ) {
          result = "You win! Rock beats scissors.";
        } else if (playerSelection == "paper" && computerSelection == "rock") {
          result = "You win! Paper beats rock.";
        } else if (
          playerSelection == "paper" &&
          computerSelection == "scissors"
        ) {
          result = "You lose! Scissors beat paper.";
        } else if (
          playerSelection == "scissors" &&
          computerSelection == "rock"
        ) {
          result = "You lose! Rock beats scissors.";
        } else if (
          playerSelection == "scissors" &&
          computerSelection == "paper"
        ) {
          result = "You win! Scissors beat paper.";
        }

        let para1 = document.createElement("p");
        para1.textContent = `${result}`;
        display.appendChild(para1);

        console.log(result);

        if (
          result == "You win! Rock beats scissors." ||
          result == "You win! Paper beats rock." ||
          result == "You win! Scissors beat paper."
        ) {
          myScore++;
        } else if (result == "You tied.") {
          myScore = myScore + 0;
          computerScore = computerScore + 0;
        } else {
          computerScore++;
        }

        let para2 = document.createElement("p");
        para2.textContent = `Your score is ${myScore}. Computer's score is ${computerScore}.`;
        display.appendChild(para2);

        if (end === 1) {
          display.textContent = "";
          end = 0;
          myScore = 0;
          computerScore = 0;
        }

        if (myScore === 5) {
          let para3 = document.createElement("p");
          display.appendChild(para3);
          para3.textContent = "YOU WON THE GAME!!!";
          end = 1;
        } else if (computerScore === 5) {
          let para3 = document.createElement("p");
          display.appendChild(para3);
          para3.textContent = "YOU ARE A LOSER!!!";
          end = 1;
        }
      }
    </script>
  </body>
</html>
